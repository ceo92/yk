<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="yumi.kyungmin.mapper.ItemMapper">

  <insert id="save" keyProperty="id" useGeneratedKeys="true">
    insert into item(item_name , price , stock_quantity , register_date , update_date ,member_id)
    values(#{itemName} , #{price} , #{stockQuantity} , #{registerDate} , #{updateDate} , #{member.id})
  </insert>

  <!--누가 상품 등록했는지는 나중에 , 로그인까지 구현해야됨-->
  <update id="update">
    update item
    set item_name = #{itemName} , price = #{price} , stock_quantity = #{stockQuantity} , update_date = #{updateDate}
    where id = #{id}
  </update>

  <select id="findById" resultType="Item">
    select *
    from item where id = #{id}

  </select>

  <select id="findAll" resultType="Item"> <!--왜 Item일까 그냥 리턴값  하나하나가 Itemdㅣㄴ가 -->
    select *
    from item
  </select>

 <!-- <resultMap id="memberMap" type="Member">
    <id property="id" column="id"/>
    <result property="name" column="name"/>
    <association property="" javaType="com.example.Address">
      <id property="id" column="address_id"/>
      <result property="address" column="address"/>
    </association>
  </resultMap>-->


  <select id="findAllByMember" resultType="Item">
    select *
    from item i join member m
    on i.member_id = m.id where member_id = #{id}
  </select>

</mapper>
  <!-- 그냥 조인만 하면 전부 다 가져오므로 member_id가 #{id}인 즉 한 회원정보만 가져오게-->
  <!--왜 Item일까 그냥 리턴값  하나하나가 Itemdㅣㄴ가 -->